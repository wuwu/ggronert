<div role="navigation" aria-label="breadcrumbs navigation">
  {{ $url := replace .Permalink ( printf "%s" .Site.BaseURL) "" }}
  {{ $.Scratch.Add "path" .Site.BaseURL }}
  {{ $.Scratch.Add "currentURL" .URL }}
  {{ $pageNotFound := (eq (replace $.Site.BaseURL .Site.BaseURL "404.html") .URL) }}
  <ul class="wy-breadcrumbs">
    <li><a href="{{ .Site.BaseURL }}">Start</a>{{ if not (eq .URL "/") }} &raquo;{{ end }}</li>
    {{ range $index, $element := split $url "/" }}
    {{ $.Scratch.Add "path" $element }}
    {{ $.Scratch.Add "path" "/" }}
    <!-- Check if the current list item is the last one -->
    {{ $isLast := eq ($.Scratch.Get "path") $.Permalink }}
    
    {{ if ne $element "" }}
    {{ if and (not $isLast) (not $pageNotFound) }}
    <li><a href='{{ $.Scratch.Get "path" }}'>{{ title ( replace . "-" " ") }}</a> &raquo;</li>
    {{ else if $pageNotFound }}
    <li>404</li>
    {{ else }}
    {{ $trivial_name := index (split $.Page.Params.volkstuemlicher_name ",") 0 }}
    {{ if isset $trivial_name }}
        <li>{{ $trivial_name }}</li>
        {{ else }}
        <li>{{ $.Title }}</li>
    {{ end }}
    {{ end }}
    {{ end }}
    {{ end }}


    {{ if and (not (or $pageNotFound (eq .URL "/"))) .IsPage }}
    <li class="wy-breadcrumbs-aside">
      <a href="/" class="fa fa-github"> Edit Page</a>
    </li>
    {{ end }}
  </ul>
  <hr />
</div>